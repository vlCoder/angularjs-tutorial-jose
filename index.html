<!DOCTYPE html>
<!-- link do video tutorial https://www.youtube.com/watch?v=jGnOhSycgFk -->
<!-- define o namespace da aplicação (ng-app="mvcApp") -->
<html lang="pt-br" ng-app="mvcApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width-device,initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <title>Tutorial de AngularJS - ep3 - MVC</title>
</head>

<!-- Define um controller para este trecho da tela (ng-controller="ep03Controller")-->
<body ng-controller="ep03Controller">

    <div class="container theme-showcase"></div>
    <h1>Estados e Capitais</h1>
    <ul class="list-group">
        <li class="list-group-item" ng-repeat="state in states">{{state.name}} - {{state.capital}} - {{state.pib}}</li>
    </ul>

    <!-- Atribui método para submit -->
    <form ng-submit="addState()">
    <div class="row">
        <div class="col-md-3 col-sm-3 col-xs-3">    
            <input type="text" class="form-control" ng-model="estado" placeholder="Digite um estado">
        </div>
        <div class="col-md-3 col-sm-3 col-xs-3">
            <input type="text" class="form-control" ng-model="capital" placeholder="Digite uma capital">
        </div>
        <div class="col-md-3 col-sm-3 col-xs-3">
            <input type="text" class="form-control" ng-model="pib" placeholder="Digite o PIB">
        </div>
        <div class="col-md-3 col-sm-3 col-xs-3">
            <input type="submit" class="btn btn-default" value="Incluir"/>
        </div>
    </div>        
    </form>

<!-- aqui vai o controller (poderia estar em um arquivo a parte) -->
    <script>
        // Carrega o modulo
        var mvcApp = angular.module('mvcApp', []);

        mvcApp.controller('ep03Controller', function ep03Controller($scope){
            
            $scope.states = [
                {name:'Minas Gerais',capital:'Belo Horizonte', pib:"R$1 BI"},
                {name:'São Paulo',capital:'São Paulo', pib:"R$2 BI"},
                {name:'Paraíba',capital:'João Pessoa', pib:"R$500 MI"},
                {name:'Rio de Janeiro',capital:'Rio de Janeiro', pib:"R$1.5 BI"}
            ];

            $scope.addState = function(){
                $scope.states.push({name : $scope.estado, capital : $scope.capital, pib:$scope.pib});
                $scope.estado = '';
                $scope.capital = '';
                $scope.pib = '';
            }
        }); 

    </script>
</body>
</html>